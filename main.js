!function(){"use strict";class e{constructor(e,t,s,r,i,n){this._title=e.name,this._image=e.link,this._data=e,this._userId=s,this._cardSelector=t,this._handleCardClick=r,this._handleDeleteButton=i,this._handleLikeClick=n,this._likes=this._data.likes}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}generateCard(){return this._card=this._getTemplate(),this._likeButton=this._card.querySelector(".card__like-button"),this._trashButton=this._card.querySelector(".card__trash-button"),this._photoCard=this._card.querySelector(".card__photo"),this._likeCounter=this._card.querySelector(".card__like-counter"),this._setEventListeners(),this._photoCard.src=this._image,this._photoCard.alt=this._title,this._card.querySelector(".card__title").textContent=this._title,this._renderLikes(),this._data.owner._id!==this._userId&&(this._trashButton.removeEventListener("click",this._handleDeleteButton),this._trashButton.style="display: none"),this._card}_setEventListeners(){this._likeButton.addEventListener("click",this._handleLikeClick),this._photoCard.addEventListener("click",(()=>this._handleCardClick())),this._trashButton.addEventListener("click",this._handleDeleteButton)}updateLikes(e){this._likes=e,this._renderLikes()}_renderLikes(){this._likeCounter.textContent=this._likes.length,this.isLiked()?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}isLiked(){return this._likes.map((e=>e._id)).find((e=>e===this._userId))}clickToRemove(){this._card.remove(),this._card.null}}function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class s{constructor(e){t(this,"_handleEscClose",(e=>{"Escape"===e.key&&this.close()})),t(this,"_handleOverlay",(e=>{e.target.classList.contains("popup")&&this.close()})),this._popup=document.querySelector(e),this._closeButton=this._popup.querySelector(".popup__close-button")}open(){this._popup.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose),this._popup.addEventListener("mousedown",this._handleOverlay)}close(){this._popup.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("mousedown",this._handleOverlay)}setEventListeners(){this._closeButton.addEventListener("click",(()=>this.close()))}}class r extends s{constructor(e,t){super(e),this._handleSubmit=t,this._form=this._popup.querySelector(".popup__form"),this._inputList=Array.from(this._form.querySelectorAll(".form__input")),this._submitButton=this._popup.querySelector(".form__button-save"),this._textOnButton=this._submitButton.textContent}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit(this._getInputValues())})),super.setEventListeners()}close(){super.close(),this._form.reset()}renderLoading(e){this._submitButton.textContent=e?"Saving...":this._textOnButton}}class i{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._submitButton=this._formElement.querySelector(this._submitButtonSelector)}enableValidation(){this._formElement.addEventListener("submit",(e=>e.preventDefault())),this._setEventListeners()}_showInputError(e,t){const s=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),s.textContent=t,s.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_toggleButtonState(){this._hasInvalidInput(this._inputList)?this.disableButton():this.enableButton()}hideError(){this._inputList.forEach((e=>{this._hideInputError(e)}))}}const n=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_processResponse(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._processResponse)}getInitialCards(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._processResponse)}patchUserProfile(e,t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._processResponse)}createCard(e){let{name:t,link:s}=e;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})}).then(this._processResponse)}deleteCard(e){return fetch("https://around.nomoreparties.co/v1/cohort-3-en/cards/".concat(e),{method:"DELETE",headers:this._headers}).then(this._processResponse)}likeCard(e){return fetch("https://around.nomoreparties.co/v1/cohort-3-en/cards/likes/".concat(e),{method:"PUT",headers:this._headers}).then(this._processResponse)}unLikeCard(e){return fetch("https://around.nomoreparties.co/v1/cohort-3-en/cards/likes/".concat(e),{method:"DELETE",headers:this._headers}).then(this._processResponse)}changeProfilePicture(e){return fetch("https://around.nomoreparties.co/v1/cohort-3-en/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._processResponse)}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"3b82c4e5-0fac-48ec-9210-bfe6ee07c30f","Content-Type":"application/json"}}),o=document.querySelector(".profile__edit-button"),a=document.querySelector(".profile__add-button"),h=document.querySelector(".profile__edit-picture"),c={},l=new class{constructor(e){let{nameSelctor:t,jobSelctor:s}=e;this._profileName=document.querySelector(t),this._profileBreed=document.querySelector(s),this._userAvatar=document.querySelector(".profile__avatar")}getUserInfo(){return{name:this._profileName.textContent,job:this._profileBreed.textContent,avatar:this._userAvatar.src,id:this._userId}}setUserInfo(e,t,s){this._profileName.textContent=e,this._profileBreed.textContent=t,this._userId=s}setUserAvatar(e){this._userAvatar.src=e}}({nameSelctor:".profile__name",jobSelctor:".profile__about-me"}),u=new class{constructor(e,t){this._renderer=e,this._container=document.querySelector(t)}renderCard(e){e.forEach((e=>{this._renderer(e)}))}appendItem(e){this._container.append(e)}prependItem(e){this._container.prepend(e)}}((e=>{u.appendItem(_(e))}),".cards");function _(t){const s=l.getUserInfo().id,r=new e(t,"#card-template",s,(()=>{m.open(t.name,t.link)}),(()=>{f.open(),f.setAction((()=>{f.renderLoading(!0),n.deleteCard(t._id).then((()=>{r.clickToRemove(),f.close()})).catch(console.log).finally((()=>{f.renderLoading(!1)}))}))}),(()=>{r.isLiked()?n.unLikeCard(t._id).then((e=>{r.updateLikes(e.likes)})).catch(console.log):n.likeCard(t._id).then((e=>{r.updateLikes(e.likes)})).catch(console.log)}));return r.generateCard()}Promise.all([n.getUserInfo(),n.getInitialCards()]).then((e=>{let[t,s]=e;l.setUserInfo(t.name,t.about,t._id),l.setUserAvatar(t.avatar),u.renderCard(s)})).catch(console.log);const d=new r(".popup_type_profile",(e=>{d.renderLoading(!0),n.patchUserProfile(e.name,e["about-me"]).then((()=>{l.setUserInfo(e.name,e["about-me"]),d.close()})).catch(console.log).finally((()=>{d.renderLoading(!1)}))})),p=new r(".popup_type_cards",(e=>{p.renderLoading(!0);const t={name:e["place-title"],link:e.image};n.createCard(t).then((e=>{u.prependItem(_(e)),p.close()})).catch(console.log).finally((()=>{p.renderLoading(!1)}))})),m=new class extends s{constructor(e){super(e),this._popupImg=this._popup.querySelector(".popup__img"),this._popupPhotoTitle=this._popup.querySelector(".popup__photo-title")}open(e,t){super.open(),this._popupImg.src=t,this._popupImg.alt="Beautiful view of ".concat(e),this._popupPhotoTitle.textContent=e}}(".popup_type_photo"),v=new r(".popup_type_avatar",(e=>{v.renderLoading(!0),n.changeProfilePicture(e.avatar).then((e=>{l.setUserAvatar(e.avatar),v.close()})).catch(console.log).finally((()=>{v.renderLoading(!1)}))})),f=new class extends r{setEventListeners(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit()})),super.setEventListeners()}setAction(e){this._handleSubmit=e}}(".popup_type_delete");var L;d.setEventListeners(),p.setEventListeners(),m.setEventListeners(),v.setEventListeners(),f.setEventListeners(),o.addEventListener("click",(()=>{const e=c["edit-form"];e.hideError(),e.enableButton();const t=l.getUserInfo(),s={name:t.name,"about-me":t.job};d.setInputValues(s),d.open()})),a.addEventListener("click",(()=>{const e=c["add-form"];e.disableButton(),e.hideError(),p.open()})),h.addEventListener("click",(()=>{const e=c["avatar-form"];e.enableButton(),e.hideError(),v.open()})),L={inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_disable",inputErrorClass:"popup__input_type_error",errorClass:"form__input-error_active"},Array.from(document.querySelectorAll(".popup__form")).forEach((e=>{const t=new i(L,e),s=e.getAttribute("name");c[s]=t,t.enableValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2pCRSxXQUFZLDRCQ3NKSzFCLE1BQU1DLEtBQUtuRCxTQUFTb0QsaUJBQWlCLGlCQUM3Q0ssU0FBU1MsSUFDaEIsTUFBTTJHLEVBQWdCLElBQUk1RyxFQUFjdUcsRUFBUXRHLEdBQzFDNEcsRUFBVzVHLEVBQVk2RyxhQUFhLFFBQzFDaEQsRUFBZStDLEdBQVlELEVBQzNCQSxFQUFjL0Ysc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlsaXMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvdXRpbGlzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBkYXRhLFxyXG4gICAgY2FyZFNlbGVjdG9yLFxyXG4gICAgdXNlcklkLFxyXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQnV0dG9uLFxyXG4gICAgaGFuZGxlTGlrZUNsaWNrXHJcbiAgKSB7XHJcbiAgICB0aGlzLl90aXRsZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2ltYWdlID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24gPSBoYW5kbGVEZWxldGVCdXR0b247XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XHJcbiAgICB0aGlzLl9saWtlcyA9IHRoaXMuX2RhdGEubGlrZXM7IC8vYXJyYXkgb2YgbGlrZXNcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XHJcbiAgICB0aGlzLl90cmFzaEJ1dHRvbiA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190cmFzaC1idXR0b25cIik7XHJcbiAgICB0aGlzLl9waG90b0NhcmQgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fcGhvdG9cIik7XHJcbiAgICB0aGlzLl9saWtlQ291bnRlciA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWNvdW50ZXJcIik7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcGhvdG9DYXJkLnNyYyA9IHRoaXMuX2ltYWdlO1xyXG4gICAgdGhpcy5fcGhvdG9DYXJkLmFsdCA9IHRoaXMuX3RpdGxlO1xyXG4gICAgdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fdGl0bGU7XHJcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xyXG4gICAgaWYgKHRoaXMuX2RhdGEub3duZXJbXCJfaWRcIl0gIT09IHRoaXMuX3VzZXJJZCkge1xyXG4gICAgICB0aGlzLl90cmFzaEJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKTtcclxuICAgICAgdGhpcy5fdHJhc2hCdXR0b24uc3R5bGUgPSBcImRpc3BsYXk6IG5vbmVcIjtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9jYXJkO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgLy9saWtlIGJ1dHRvblxyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlTGlrZUNsaWNrKTtcclxuICAgIC8vcG9wdXAgcGhvdG9cclxuICAgIHRoaXMuX3Bob3RvQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKCkpO1xyXG4gICAgLy90cmFzaCBidXR0b25cclxuICAgIHRoaXMuX3RyYXNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlTGlrZXMobGlrZXMpIHtcclxuICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XHJcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xyXG4gIH1cclxuXHJcbiAgX3JlbmRlckxpa2VzKCkge1xyXG4gICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzTGlrZWQoKSB7XHJcbiAgICBjb25zdCB1c2VyTGlrZSA9IHRoaXMuX2xpa2VzXHJcbiAgICAgIC5tYXAoKHVzZXIpID0+IHVzZXJbXCJfaWRcIl0pXHJcbiAgICAgIC5maW5kKChpZCkgPT4gaWQgPT09IHRoaXMuX3VzZXJJZCk7XHJcblxyXG4gICAgcmV0dXJuIHVzZXJMaWtlO1xyXG4gIH1cclxuXHJcbiAgY2xpY2tUb1JlbW92ZSgpIHtcclxuICAgIHRoaXMuX2NhcmQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkLm51bGw7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBOYW1lKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBOYW1lKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVPdmVybGF5KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5cIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2hhbmRsZU92ZXJsYXkpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGUpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBfaGFuZGxlT3ZlcmxheSA9IChlKSA9PiB7XHJcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwTmFtZSwgaGFuZGxlU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cE5hbWUpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dFwiKSk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2J1dHRvbi1zYXZlXCIpO1xyXG4gICAgdGhpcy5fdGV4dE9uQnV0dG9uID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgbGlzdElucHV0c1ZlbHVlID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgbGlzdElucHV0c1ZlbHVlW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbGlzdElucHV0c1ZlbHVlO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xyXG4gICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fdGV4dE9uQnV0dG9uO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBkYXRhLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGRhdGEuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gZGF0YS5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gZGF0YS5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gZGF0YS5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL2NhbGxlZCBmcm9tIGluZGV4LmpzIC0gcHVibGljLlxyXG4gIGRpc2FibGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBlbmFibGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKSB7XHJcbiAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbmFibGVCdXR0b24oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhpZGVFcnJvcigpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX3Byb2Nlc3NSZXNwb25zZShyZXMpIHtcclxuICAgIHJldHVybiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHBhdGNoVXNlclByb2ZpbGUobmFtZSwgYWJvdXQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGFib3V0OiBhYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0zLWVuL2NhcmRzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBsaWtlQ2FyZChpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMy1lbi9jYXJkcy9saWtlcy8ke2lkfWAsXHJcbiAgICAgIHtcclxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfVxyXG4gICAgKS50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICB1bkxpa2VDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goXHJcbiAgICAgIGBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0zLWVuL2NhcmRzL2xpa2VzLyR7aWR9YCxcclxuICAgICAge1xyXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICB9XHJcbiAgICApLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGNoYW5nZVByb2ZpbGVQaWN0dXJlKGxpbmspIHtcclxuICAgIHJldHVybiBmZXRjaChcclxuICAgICAgYGh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTMtZW4vdXNlcnMvbWUvYXZhdGFyYCxcclxuICAgICAge1xyXG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgYXZhdGFyOiBsaW5rLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9XHJcbiAgICApLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTMtZW5cIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjNiODJjNGU1LTBmYWMtNDhlYy05MjEwLWJmZTZlZTA3YzMwZlwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcbiIsIi8vcG9wdXAtZWRpdCBwcm9maWxlIHZhcmlhYmxlc1xyXG5jb25zdCBvcGVuUHJvZmlsZUZvcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5cclxuLy9wb3B1cCBhZGQgY2FyZCB2YXJpYWJsZXNcclxuY29uc3Qgb3BlbkFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuXHJcbi8vcG9wdXAgY2hhbmdlIHByb2ZpbGUgcGljdHVyZVxyXG5cclxuY29uc3Qgb3BlbkVkaXRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtcGljdHVyZVwiKTtcclxuXHJcbi8vdmFsaWRhdGlvbiB2YXJpYWJsZVxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fc3VibWl0XCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19zdWJtaXRfZGlzYWJsZVwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbn07XHJcblxyXG5leHBvcnQgeyBvcGVuUHJvZmlsZUZvcm1CdXR0b24sIG9wZW5BZGRCdXR0b24sIGNvbmZpZywgb3BlbkVkaXRBdmF0YXIgfTtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi91dGlsaXMvQXBpXCI7XHJcbmltcG9ydCB7XHJcbiAgb3BlblByb2ZpbGVGb3JtQnV0dG9uLFxyXG4gIG9wZW5BZGRCdXR0b24sXHJcbiAgY29uZmlnLFxyXG4gIG9wZW5FZGl0QXZhdGFyLFxyXG59IGZyb20gXCIuLi91dGlsaXMvY29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aENvbmZpcm1hdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvblwiO1xyXG5cclxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lU2VsY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIGpvYlNlbGN0b3I6IFwiLnByb2ZpbGVfX2Fib3V0LW1lXCIsXHJcbn0pO1xyXG5cclxuY29uc3QgY2FyZHMgPSBuZXcgU2VjdGlvbigoY2FyZCkgPT4ge1xyXG4gIGNhcmRzLmFwcGVuZEl0ZW0oY3JlYXRlQ2FyZChjYXJkKSk7XHJcbn0sIFwiLmNhcmRzXCIpO1xyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxyXG4gIC50aGVuKChbdXNlckRhdGEsIGNhcmRzRGF0YV0pID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhLm5hbWUsIHVzZXJEYXRhLmFib3V0LCB1c2VyRGF0YVtcIl9pZFwiXSk7XHJcbiAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHVzZXJEYXRhLmF2YXRhcik7XHJcbiAgICBjYXJkcy5yZW5kZXJDYXJkKGNhcmRzRGF0YSk7XHJcbiAgfSlcclxuICAuY2F0Y2goY29uc29sZS5sb2cpO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XHJcbiAgY29uc3QgdXNlcklkID0gdXNlckluZm8uZ2V0VXNlckluZm8oKS5pZDtcclxuICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoXHJcbiAgICBpdGVtLFxyXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxyXG4gICAgdXNlcklkLFxyXG4gICAgKCkgPT4ge1xyXG4gICAgICBwb3B1cEltYWdlLm9wZW4oaXRlbS5uYW1lLCBpdGVtLmxpbmspO1xyXG4gICAgfSxcclxuICAgICgpID0+IHtcclxuICAgICAgcG9wdXBEZWxldGVDYXJkLm9wZW4oKTtcclxuICAgICAgcG9wdXBEZWxldGVDYXJkLnNldEFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBEZWxldGVDYXJkLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgICAgICAgYXBpXHJcbiAgICAgICAgICAuZGVsZXRlQ2FyZChpdGVtW1wiX2lkXCJdKVxyXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBuZXdDYXJkLmNsaWNrVG9SZW1vdmUoKTtcclxuICAgICAgICAgICAgcG9wdXBEZWxldGVDYXJkLmNsb3NlKCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGNvbnNvbGUubG9nKVxyXG4gICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICBwb3B1cERlbGV0ZUNhcmQucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgKCkgPT4ge1xyXG4gICAgICBuZXdDYXJkLmlzTGlrZWQoKVxyXG4gICAgICAgID8gYXBpXHJcbiAgICAgICAgICAgIC51bkxpa2VDYXJkKGl0ZW1bXCJfaWRcIl0pXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICBuZXdDYXJkLnVwZGF0ZUxpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChjb25zb2xlLmxvZylcclxuICAgICAgICA6IGFwaVxyXG4gICAgICAgICAgICAubGlrZUNhcmQoaXRlbVtcIl9pZFwiXSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgIG5ld0NhcmQudXBkYXRlTGlrZXMocmVzLmxpa2VzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUubG9nKTtcclxuICAgIH1cclxuICApO1xyXG5cclxuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59XHJcblxyXG4vL3BvcHVwc1xyXG5cclxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfcHJvZmlsZVwiLCAoZGF0YSkgPT4ge1xyXG4gIHBvcHVwRWRpdFByb2ZpbGUucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC5wYXRjaFVzZXJQcm9maWxlKGRhdGEubmFtZSwgZGF0YVtcImFib3V0LW1lXCJdKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhLm5hbWUsIGRhdGFbXCJhYm91dC1tZVwiXSk7XHJcbiAgICAgIHBvcHVwRWRpdFByb2ZpbGUuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHBvcHVwRWRpdFByb2ZpbGUucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5jb25zdCBwb3B1cENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF90eXBlX2NhcmRzXCIsIChkYXRhKSA9PiB7XHJcbiAgcG9wdXBDYXJkLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgY29uc3QgbmV3Q2FyZCA9IHsgbmFtZTogZGF0YVtcInBsYWNlLXRpdGxlXCJdLCBsaW5rOiBkYXRhLmltYWdlIH07XHJcbiAgYXBpXHJcbiAgICAuY3JlYXRlQ2FyZChuZXdDYXJkKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBjYXJkcy5wcmVwZW5kSXRlbShjcmVhdGVDYXJkKHJlcykpO1xyXG4gICAgICBwb3B1cENhcmQuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHBvcHVwQ2FyZC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfdHlwZV9waG90b1wiKTtcclxuXHJcbmNvbnN0IHBvcHVwQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9hdmF0YXJcIiwgKGRhdGEpID0+IHtcclxuICBwb3B1cEF2YXRhci5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gIGFwaVxyXG4gICAgLmNoYW5nZVByb2ZpbGVQaWN0dXJlKGRhdGEuYXZhdGFyKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHJlcy5hdmF0YXIpO1xyXG4gICAgICBwb3B1cEF2YXRhci5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChjb25zb2xlLmxvZylcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcG9wdXBBdmF0YXIucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5jb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFwiLnBvcHVwX3R5cGVfZGVsZXRlXCIpO1xyXG5cclxucG9wdXBFZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cERlbGV0ZUNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vZXZlbnQgbGlzdGVuZXJzXHJcbm9wZW5Qcm9maWxlRm9ybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdG9yID0gZm9ybVZhbGlkYXRvcnNbXCJlZGl0LWZvcm1cIl07XHJcbiAgcHJvZmlsZUZvcm1WYWxpZGF0b3IuaGlkZUVycm9yKCk7XHJcbiAgcHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlQnV0dG9uKCk7XHJcblxyXG4gIGNvbnN0IGluaXRpYWxJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBjb25zdCBkYXRhID0geyBuYW1lOiBpbml0aWFsSW5mby5uYW1lLCBcImFib3V0LW1lXCI6IGluaXRpYWxJbmZvLmpvYiB9O1xyXG4gIHBvcHVwRWRpdFByb2ZpbGUuc2V0SW5wdXRWYWx1ZXMoZGF0YSk7XHJcblxyXG4gIHBvcHVwRWRpdFByb2ZpbGUub3BlbigpO1xyXG59KTtcclxuXHJcbm9wZW5BZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IGZvcm1WYWxpZGF0b3JzW1wiYWRkLWZvcm1cIl07XHJcbiAgY2FyZEZvcm1WYWxpZGF0b3IuZGlzYWJsZUJ1dHRvbigpO1xyXG4gIGNhcmRGb3JtVmFsaWRhdG9yLmhpZGVFcnJvcigpO1xyXG5cclxuICBwb3B1cENhcmQub3BlbigpO1xyXG59KTtcclxuXHJcbm9wZW5FZGl0QXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IGZvcm1WYWxpZGF0b3JzW1wiYXZhdGFyLWZvcm1cIl07XHJcbiAgYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVCdXR0b24oKTtcclxuICBhdmF0YXJGb3JtVmFsaWRhdG9yLmhpZGVFcnJvcigpO1xyXG4gIHBvcHVwQXZhdGFyLm9wZW4oKTtcclxufSk7XHJcblxyXG4vL3ZhbGlkYXRpb25cclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbkZvcm0gPSAoY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2Zvcm1cIikpO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZGF0b3JGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudCk7XHJcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XHJcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3JGb3JtO1xyXG4gICAgdmFsaWRhdG9yRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgfSk7XHJcbn07XHJcbmVuYWJsZVZhbGlkYXRpb25Gb3JtKGNvbmZpZyk7XHJcbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsY3Rvciwgam9iU2VsY3RvciB9KSB7XHJcbiAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGN0b3IpO1xyXG4gICAgdGhpcy5fcHJvZmlsZUJyZWVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGpvYjogdGhpcy5fcHJvZmlsZUJyZWVkLnRleHRDb250ZW50LFxyXG4gICAgICBhdmF0YXI6IHRoaXMuX3VzZXJBdmF0YXIuc3JjLFxyXG4gICAgICBpZDogdGhpcy5fdXNlcklkLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKG5hbWUsIGpvYiwgaWQpIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX3Byb2ZpbGVCcmVlZC50ZXh0Q29udGVudCA9IGpvYjtcclxuICAgIHRoaXMuX3VzZXJJZCA9IGlkO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckF2YXRhcihhdmF0YXIpIHtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJDYXJkKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhcHBlbmRJdGVtKGl0ZW0pIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoaXRlbSk7XHJcbiAgfVxyXG4gIHByZXBlbmRJdGVtKGl0ZW0pIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGl0ZW0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBOYW1lKSB7XHJcbiAgICBzdXBlcihwb3B1cE5hbWUpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWcgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWdcIik7XHJcbiAgICB0aGlzLl9wb3B1cFBob3RvVGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19waG90by10aXRsZVwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWcuc3JjID0gbGluaztcclxuICAgIHRoaXMuX3BvcHVwSW1nLmFsdCA9IGBCZWF1dGlmdWwgdmlldyBvZiAke25hbWV9YDtcclxuICAgIHRoaXMuX3BvcHVwUGhvdG9UaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXBXaXRoRm9ybSB7XHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHNldEFjdGlvbihhY3Rpb24pIHtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGFjdGlvbjtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVCdXR0b24iLCJoYW5kbGVMaWtlQ2xpY2siLCJ0aGlzIiwiX3RpdGxlIiwibmFtZSIsIl9pbWFnZSIsImxpbmsiLCJfZGF0YSIsIl91c2VySWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVEZWxldGVCdXR0b24iLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2xpa2VzIiwibGlrZXMiLCJfZ2V0VGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2VuZXJhdGVDYXJkIiwiX2NhcmQiLCJfbGlrZUJ1dHRvbiIsIl90cmFzaEJ1dHRvbiIsIl9waG90b0NhcmQiLCJfbGlrZUNvdW50ZXIiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIl9yZW5kZXJMaWtlcyIsIm93bmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInN0eWxlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVwZGF0ZUxpa2VzIiwibGVuZ3RoIiwiaXNMaWtlZCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIm1hcCIsInVzZXIiLCJmaW5kIiwiaWQiLCJjbGlja1RvUmVtb3ZlIiwibnVsbCIsIlBvcHVwIiwicG9wdXBOYW1lIiwiZSIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJfcG9wdXAiLCJfY2xvc2VCdXR0b24iLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2hhbmRsZU92ZXJsYXkiLCJzZXRFdmVudExpc3RlbmVycyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVTdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVTdWJtaXQiLCJfZm9ybSIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ1dHRvbiIsIl90ZXh0T25CdXR0b24iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJsaXN0SW5wdXRzVmVsdWUiLCJmb3JFYWNoIiwiaW5wdXQiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwicHJldmVudERlZmF1bHQiLCJyZXNldCIsInJlbmRlckxvYWRpbmciLCJpc0xvYWRpbmciLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJlbmFibGVWYWxpZGF0aW9uIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzb21lIiwiZGlzYWJsZUJ1dHRvbiIsImRpc2FibGVkIiwiZW5hYmxlQnV0dG9uIiwiaGlkZUVycm9yIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX3Byb2Nlc3NSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRVc2VySW5mbyIsImZldGNoIiwidGhlbiIsImdldEluaXRpYWxDYXJkcyIsInBhdGNoVXNlclByb2ZpbGUiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY3JlYXRlQ2FyZCIsImRlbGV0ZUNhcmQiLCJsaWtlQ2FyZCIsInVuTGlrZUNhcmQiLCJjaGFuZ2VQcm9maWxlUGljdHVyZSIsImF2YXRhciIsImF1dGhvcml6YXRpb24iLCJvcGVuUHJvZmlsZUZvcm1CdXR0b24iLCJvcGVuQWRkQnV0dG9uIiwib3BlbkVkaXRBdmF0YXIiLCJmb3JtVmFsaWRhdG9ycyIsInVzZXJJbmZvIiwibmFtZVNlbGN0b3IiLCJqb2JTZWxjdG9yIiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVCcmVlZCIsIl91c2VyQXZhdGFyIiwiam9iIiwic2V0VXNlckluZm8iLCJzZXRVc2VyQXZhdGFyIiwiY2FyZHMiLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckNhcmQiLCJpdGVtcyIsIml0ZW0iLCJhcHBlbmRJdGVtIiwiYXBwZW5kIiwicHJlcGVuZEl0ZW0iLCJwcmVwZW5kIiwiY2FyZCIsIm5ld0NhcmQiLCJwb3B1cEltYWdlIiwicG9wdXBEZWxldGVDYXJkIiwic2V0QWN0aW9uIiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwiZmluYWxseSIsImFsbCIsInVzZXJEYXRhIiwiY2FyZHNEYXRhIiwicG9wdXBFZGl0UHJvZmlsZSIsInBvcHVwQ2FyZCIsImltYWdlIiwiX3BvcHVwSW1nIiwiX3BvcHVwUGhvdG9UaXRsZSIsInBvcHVwQXZhdGFyIiwiYWN0aW9uIiwiY29uZmlnIiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJpbml0aWFsSW5mbyIsImNhcmRGb3JtVmFsaWRhdG9yIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsInZhbGlkYXRvckZvcm0iLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSJdLCJzb3VyY2VSb290IjoiIn0=